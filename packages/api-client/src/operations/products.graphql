# Product Panel Operations

# Main query for outlet product panel
query GetOutletProductPanel($outletId: ID!) {
  outletProductPanel(outletId: $outletId) {
    gridConfig {
      id
      gridColumns
      gridRows
      tileSize
      showImages
      showPrices
      categoryStyle
      showAllCategory
      quickKeysEnabled
      quickKeysCount
      quickKeysPosition
    }
    quickKeys {
      id
      name
      basePrice
      imageUrl
      productType
      category {
        id
        color
      }
    }
    suggestions {
      id
      name
      basePrice
      imageUrl
      productType
      category {
        id
        color
      }
    }
  }

  productCategories {
    id
    name
    color
    iconName
    sortOrder
    parentId
  }
}

# Smart suggestions (separate query, refreshed on interval)
query SmartSuggestions($outletId: ID!) {
  smartSuggestions(outletId: $outletId) {
    id
    name
    basePrice
    imageUrl
    productType
    category {
      id
      color
    }
  }
}

# Admin: Get all products for outlet config
query OutletProductConfigs($outletId: ID!) {
  outletProductConfigs(outletId: $outletId) {
    id
    productId
    displayName
    buttonColor
    sortPriority
    gridPosition
    isVisible
    visibilityRules
    isQuickKey
    quickKeyPosition
    product {
      id
      name
      sku
      productType
      basePrice
      imageUrl
      category {
        id
        name
        color
      }
    }
  }
}

# Admin: Update outlet product config
mutation UpdateOutletProductConfig($outletId: ID!, $productId: ID!, $input: UpdateOutletProductConfigInput!) {
  updateOutletProductConfig(outletId: $outletId, productId: $productId, input: $input) {
    id
    displayName
    buttonColor
    sortPriority
    isVisible
    isQuickKey
    quickKeyPosition
  }
}

# Admin: Bulk update product visibility
mutation BulkUpdateOutletProductConfigs($outletId: ID!, $input: BulkOutletProductConfigInput!) {
  bulkUpdateOutletProductConfigs(outletId: $outletId, input: $input) {
    id
    isVisible
    isQuickKey
  }
}

# Admin: Update outlet grid config
mutation UpdateOutletGridConfig($outletId: ID!, $input: UpdateOutletGridConfigInput!) {
  updateOutletGridConfig(outletId: $outletId, input: $input) {
    id
    gridColumns
    gridRows
    tileSize
    showImages
    showPrices
    categoryStyle
    quickKeysEnabled
    quickKeysCount
    quickKeysPosition
  }
}

# Admin: Update smart suggestion config
mutation UpdateSmartSuggestionConfig($outletId: ID!, $input: UpdateSmartSuggestionConfigInput!) {
  updateSmartSuggestionConfig(outletId: $outletId, input: $input) {
    id
    enabled
    suggestionCount
    position
    timeOfDayWeight
    salesVelocityWeight
    staffHistoryWeight
  }
}
